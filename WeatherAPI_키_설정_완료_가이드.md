# WeatherAPI.com API 키 설정 완료 가이드

**API 키**: `8cf954892eb9405681b63201252611`

---

## ✅ 완료된 작업

1. ✅ `lib/weather.ts` 파일 생성 완료
2. ✅ `DailyBriefingCard.tsx` 수정 완료 (더미 데이터 → 실제 API)

---

## 📋 남은 작업: Vercel 환경변수 설정

### 1. Vercel 대시보드 접속
1. https://vercel.com 접속
2. 로그인
3. 프로젝트 선택 (cruise-guide)

### 2. 환경변수 추가
1. **Settings** → **Environment Variables** 클릭
2. **"Add New"** 버튼 클릭
3. 다음 정보 입력:
   - **Key**: `WEATHER_API_KEY`
   - **Value**: `8cf954892eb9405681b63201252611`
   - **Environment**: 
     - ✅ **Production** 체크
     - ✅ **Preview** 체크
     - ✅ **Development** 체크
     - (또는 **"All"** 선택)

4. **"Save"** 버튼 클릭

### 3. 재배포
1. 환경변수 추가 후 자동으로 재배포가 시작될 수 있음
2. 재배포가 자동으로 시작되지 않으면:
   - **"Deployments"** 탭 클릭
   - 최신 배포 옆 **"..."** 메뉴 클릭
   - **"Redeploy"** 선택

---

## 🧪 테스트 방법

### 로컬 테스트
1. `.env.local` 파일에 추가:
   ```bash
   WEATHER_API_KEY=8cf954892eb9405681b63201252611
   ```

2. 개발 서버 재시작:
   ```bash
   npm run dev
   ```

3. 브라우저에서 테스트:
   - 지니 브리핑 페이지 접속
   - 날씨 정보 클릭
   - 14일 예보가 정상적으로 표시되는지 확인

### 프로덕션 테스트
1. Vercel 배포 완료 후
2. 프로덕션 사이트 접속
3. 지니 브리핑에서 날씨 정보 확인

---

## 📊 호출량 모니터링

### 예상 호출량
- **20개 지역 × 1시간 캐시 = 하루 480회**
- WeatherAPI.com 무료 플랜: **하루 1,000회** → ✅ 충분

### 모니터링 방법
1. WeatherAPI.com Dashboard에서 호출량 확인
   - https://www.weatherapi.com/my/
   - API Usage 섹션에서 확인

2. Vercel 로그에서 API 호출 확인
   - Functions 탭에서 로그 확인

---

## 🆘 문제 해결

### "WEATHER_API_KEY가 설정되지 않았습니다" 오류
- **원인**: 환경변수가 설정되지 않았거나 재배포가 안 됨
- **해결**: 
  1. Vercel 환경변수 확인
  2. 재배포 실행
  3. 서버 재시작

### "날씨 API 요청 실패: 401" 오류
- **원인**: API 키가 잘못되었거나 만료됨
- **해결**: 
  1. WeatherAPI.com Dashboard에서 API 키 확인
  2. Vercel 환경변수 값 확인
  3. 재배포

### 날씨 정보가 표시되지 않음
- **원인**: 도시명이 잘못되었거나 API 호출 실패
- **해결**: 
  1. 브라우저 콘솔(F12)에서 오류 확인
  2. 서버 로그 확인
  3. 도시명 확인 (영문 도시명 사용 권장)

---

## ✅ 체크리스트

- [ ] Vercel 환경변수에 `WEATHER_API_KEY` 추가
- [ ] Value: `8cf954892eb9405681b63201252611`
- [ ] Production, Preview, Development 모두 선택
- [ ] 재배포 완료
- [ ] 로컬 테스트 완료 (선택)
- [ ] 프로덕션 테스트 완료

---

## 🎉 완료!

**이제 100명까지 무료로 14일 날씨 예보를 제공할 수 있습니다!**

- ✅ **비용**: $0 (무료)
- ✅ **예보 기간**: 14일
- ✅ **호출 제한**: 하루 1,000회 (충분)
- ✅ **상업적 사용**: 가능

**Vercel 환경변수만 설정하면 바로 사용 가능합니다!** 🌤️

