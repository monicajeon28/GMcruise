# 배포 체크리스트

## ✅ 배포 전 필수 확인사항

### 1. 코드 준비
- [x] 카카오톡 알림톡 기능 제거 완료
- [x] 구매고객 목록 페이지네이션 추가 완료
- [x] DB 인덱스 추가 완료 (스키마 및 SQL 파일)
- [x] 환경변수 검증 스크립트 작성 완료
- [ ] 타입 에러 수정 (선택사항, 빌드는 통과함)

### 2. 환경변수 설정 (Vercel)
- [ ] `GEMINI_API_KEY` 설정
- [ ] `GOOGLE_DRIVE_CLIENT_ID` 설정
- [ ] `GOOGLE_DRIVE_CLIENT_SECRET` 설정
- [ ] `DATABASE_URL` 설정 (프로덕션 DB)
- [ ] `NEXT_PUBLIC_BASE_URL` 설정 (프로덕션 도메인)

### 3. 데이터베이스 준비
- [ ] 프로덕션 DB에 인덱스 적용
  ```sql
  -- prisma/migrations/add_dashboard_stats_indexes.sql 실행
  ```
- [ ] 데이터베이스 연결 테스트
- [ ] 백업 확인

### 4. 빌드 테스트
- [ ] 로컬 빌드 테스트 (`npm run build`)
- [ ] 환경변수 검증 (`npm run check:env`)

### 5. Git 준비
- [ ] 변경사항 커밋
- [ ] 메인 브랜치에 푸시 준비

## 🚀 배포 실행

- [ ] Git 푸시 또는 Vercel CLI 배포 실행
- [ ] Vercel 빌드 로그 확인
- [ ] 배포 성공 확인

## ✅ 배포 후 확인사항

### 1. 기본 동작 확인
- [ ] 홈페이지 접속 확인
- [ ] 로그인 기능 확인
- [ ] 대리점장 대시보드 접속 확인

### 2. 주요 기능 확인
- [ ] 어필리에이트 링크 생성/관리
- [ ] 리드 관리
- [ ] 판매 관리
- [ ] 고객 목록 조회
- [ ] 구매고객 목록 조회 (페이지네이션 확인)
- [ ] 예약 상세 조회

### 3. 성능 확인
- [ ] 대시보드 통계 로딩 속도 확인
- [ ] 구매고객 목록 페이지네이션 동작 확인
- [ ] 대량 데이터 조회 시 성능 확인

### 4. API 기능 확인
- [ ] Google Drive 파일 업로드
- [ ] Gemini API 동작
- [ ] SMS 발송 (알리고 개별 설정 필요)

### 5. 데이터베이스 확인
- [ ] 인덱스 적용 확인
  ```sql
  \d+ "AffiliateLead"
  \d+ "AffiliateSale"
  ```
- [ ] 쿼리 성능 확인

## 📋 배포 후 작업

- [ ] 대리점장/판매원에게 알리고 설정 가이드 공유
- [ ] Vercel Cron Jobs 동작 확인
- [ ] 모니터링 설정 (선택사항)

## 🔧 문제 발생 시

- [ ] Vercel 로그 확인
- [ ] 데이터베이스 로그 확인
- [ ] 환경변수 재확인
- [ ] 필요시 롤백

---

**체크리스트 사용법**: 각 항목을 확인할 때마다 `[ ]`를 `[x]`로 변경하세요.



