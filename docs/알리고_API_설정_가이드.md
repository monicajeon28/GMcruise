# 알리고 API 설정 가이드

**대리점장/판매원용 SMS 발송 설정 가이드**

---

## 📋 목차

1. [알리고 계정 생성](#1-알리고-계정-생성)
2. [발신번호 등록](#2-발신번호-등록)
3. [API 키 발급](#3-api-키-발급)
4. [대시보드에서 설정하기](#4-대시보드에서-설정하기)
5. [문제 해결](#5-문제-해결)

---

## 1. 알리고 계정 생성

### 1.1 알리고 사이트 접속
- 알리고 홈페이지: https://www.aligo.in/
- 회원가입 진행

### 1.2 계정 유형 선택
- **개인사업자/법인사업자**: 사업자등록증 필요
- **개인**: 신분증 필요

### 1.3 계정 승인 대기
- 가입 후 1-2일 내 승인 완료
- 승인 완료 후 SMS 발송 가능

---

## 2. 발신번호 등록

### 2.1 발신번호 등록 방법

1. **알리고 사이트 로그인**
2. **메뉴**: `발신번호 관리` → `발신번호 등록`
3. **발신번호 입력**
   - 본인 명의 휴대폰 번호 입력
   - 예: `010-1234-5678`
4. **인증 방법 선택**
   - **문자 인증**: 발신번호로 인증번호 발송
   - **통화 인증**: 발신번호로 전화 발신
5. **인증 완료**
   - 인증번호 입력 또는 통화 확인
   - 발신번호 등록 완료

### 2.2 발신번호 승인 대기
- 등록 후 1-2일 내 승인 완료
- 승인 완료 전까지는 SMS 발송 불가

### 2.3 발신번호 확인
- `발신번호 관리` 메뉴에서 승인 상태 확인
- ✅ **승인 완료** 상태여야 SMS 발송 가능

---

## 3. API 키 발급

### 3.1 API 키 발급 방법

1. **알리고 사이트 로그인**
2. **메뉴**: `API 관리` → `API 키 발급`
3. **API 키 생성**
   - API 키 이름 입력 (예: "크루즈가이드 SMS")
   - 생성 버튼 클릭
4. **API 키 복사**
   - 생성된 API 키를 안전한 곳에 보관
   - ⚠️ **주의**: API 키는 한 번만 표시되므로 반드시 복사해두세요!

### 3.2 사용자 ID 확인
- `API 관리` 메뉴에서 **사용자 ID** 확인
- 사용자 ID는 로그인 아이디와 동일할 수 있습니다

---

## 4. 대시보드에서 설정하기

### 4.1 설정 페이지 접속

1. **대리점장/판매원 대시보드 로그인**
2. **메뉴**: `설정` → `SMS 설정`
3. **또는 직접 접속**: `/partner/[partnerId]/settings`

### 4.2 SMS 설정 입력

**필수 입력 항목**:

1. **제공자**: `aligo` (기본값)
2. **API 키**: 알리고에서 발급받은 API 키 입력
3. **사용자 ID**: 알리고 로그인 아이디 또는 사용자 ID
4. **발신번호**: 등록한 발신번호 입력 (하이픈 포함/미포함 모두 가능)
   - 예: `010-1234-5678` 또는 `01012345678`
5. **활성화**: ✅ 체크

### 4.3 설정 저장

1. **저장 버튼** 클릭
2. **저장 완료** 메시지 확인
3. **테스트 발송** (선택사항)
   - 테스트 전화번호로 SMS 발송하여 확인

---

## 5. 문제 해결

### 5.1 SMS 발송 실패 시

**확인 사항**:

1. **발신번호 승인 상태 확인**
   - 알리고 사이트에서 발신번호 승인 완료 여부 확인
   - 승인 대기 중이면 승인 완료까지 대기

2. **API 키 유효성 확인**
   - 알리고 사이트에서 API 키가 활성화되어 있는지 확인
   - API 키가 만료되었거나 비활성화된 경우 재발급

3. **잔액 확인**
   - 알리고 계정에 충분한 잔액이 있는지 확인
   - 잔액 부족 시 충전 필요

4. **발신번호 형식 확인**
   - 발신번호가 올바른 형식인지 확인
   - 하이픈 포함/미포함 모두 가능하지만, 등록된 형식과 일치해야 함

### 5.2 자주 발생하는 오류

**오류: "발신번호가 등록되지 않았습니다"**
- 해결: 알리고 사이트에서 발신번호 등록 및 승인 완료

**오류: "API 키가 유효하지 않습니다"**
- 해결: API 키 재발급 및 대시보드에 재입력

**오류: "잔액이 부족합니다"**
- 해결: 알리고 계정에 충전

**오류: "발신번호 형식이 올바르지 않습니다"**
- 해결: 발신번호 형식 확인 (010-1234-5678 또는 01012345678)

---

## 6. 비용 안내

### 6.1 SMS 발송 비용
- **일반 SMS**: 건당 약 20-30원
- **장문 SMS**: 건당 약 40-60원 (90바이트 초과 시)

### 6.2 비용 절감 팁
- 야간 시간(21시~8시) 광고성 메시지 발송 시 법적 문제 가능
- 대량 발송 시 할인 혜택 확인

---

## 7. 추가 지원

### 7.1 알리고 고객센터
- 전화: 1588-7944
- 이메일: help@aligo.in
- 운영시간: 평일 09:00 ~ 18:00

### 7.2 크루즈가이드 지원
- 기술 지원이 필요한 경우 관리자에게 문의
- 설정 관련 문제는 이 가이드를 참고하세요

---

## 📝 체크리스트

배포 전 확인:

- [ ] 알리고 계정 생성 완료
- [ ] 발신번호 등록 및 승인 완료
- [ ] API 키 발급 완료
- [ ] 대시보드에서 SMS 설정 완료
- [ ] 테스트 SMS 발송 성공
- [ ] 알리고 계정 잔액 확인

---

**작성일**: 2025년 1월 28일  
**버전**: 1.0


