# 🎥 화상 회의 기능 테스트 가이드

## 📍 화상 회의 기능 위치

### ✅ 대리점장 대시보드
**접근 경로**: `/partner/[대리점장ID]/dashboard`

**화면에서 보이는 위치**:
- 대시보드 페이지 상단
- "개인 링크" 섹션 아래
- "빠른 메뉴" 섹션 위
- 파란색 배경의 카드 형태

**코드 위치**: `app/partner/[partnerId]/dashboard/PartnerDashboard.tsx` (483-495줄)

### ✅ 관리자 패널
**접근 경로**: `/admin/dashboard`

**화면에서 보이는 위치**:
- 관리자 대시보드 최상단
- 헤더 바로 아래
- 통계 카드 위
- 파란색 배경의 카드 형태

**코드 위치**: `app/admin/dashboard/page.tsx` (323-335줄)

## 🚀 테스트 방법

### 1단계: 서버 실행

**터미널 1**: Next.js 서버
```bash
cd /home/userhyeseon28/projects/cruise-guide
npm run dev
```

**터미널 2**: Socket.io 서버 (필수!)
```bash
cd /home/userhyeseon28/projects/cruise-guide
npm run socket
```

또는 한 번에:
```bash
cd /home/userhyeseon28/projects/cruise-guide
npm run dev:all
```

### 2단계: 대리점장으로 테스트

1. **대리점장 로그인 페이지 접속**
   ```
   http://localhost:3000/partner
   ```

2. **대리점장 ID와 비밀번호로 로그인**
   - 대리점장 ID: (예: `boss001`, `abc123` 등)
   - 비밀번호: (설정된 비밀번호)

3. **대시보드 접속**
   - 로그인 후 자동으로 `/partner/[ID]/dashboard`로 이동
   - 또는 직접 접속: `http://localhost:3000/partner/[대리점장ID]/dashboard`

4. **화상 회의 섹션 찾기**
   - 페이지를 스크롤하면 "화상 회의" 섹션이 보입니다
   - 파란색 배경의 카드
   - 오른쪽에 "화상 회의" 버튼

5. **화상 회의 시작**
   - "화상 회의" 버튼 클릭
   - "새 미팅 시작하기" 클릭
   - 미팅 정보 입력 후 생성

### 3단계: 관리자로 테스트

1. **관리자 로그인 페이지 접속**
   ```
   http://localhost:3000/admin/login
   ```

2. **관리자 계정으로 로그인**
   - 관리자 이메일/비밀번호

3. **대시보드 접속**
   - 로그인 후 자동으로 `/admin/dashboard`로 이동

4. **화상 회의 섹션 찾기**
   - 페이지 최상단에 "화상 회의" 섹션이 보입니다
   - 파란색 배경의 카드
   - 오른쪽에 "화상 회의" 버튼

5. **화상 회의 시작**
   - "화상 회의" 버튼 클릭
   - "새 미팅 시작하기" 클릭
   - 미팅 정보 입력 후 생성

## 🎯 화면 구성 예시

### 대리점장 대시보드 화면
```
┌─────────────────────────────────────────┐
│  [대리점장 대시보드]                     │
│  대리점장 대시보드                       │
├─────────────────────────────────────────┤
│  📊 통계 카드 (4개)                      │
│  [총 링크] [총 리드] [총 판매] [팀원 수] │
├─────────────────────────────────────────┤
│  🔗 나의 개인 링크                       │
│  [대시보드] [판매몰] [결제 페이지] ...   │
├─────────────────────────────────────────┤
│  📹 화상 회의                            │ ← 여기!
│  팀원이나 고객과 실시간 화상 통화를...   │
│                    [화상 회의] 버튼      │
├─────────────────────────────────────────┤
│  ⚡ 빠른 메뉴                            │
│  [나의 판매몰] [링크 관리] [고객 관리]...│
└─────────────────────────────────────────┘
```

### 관리자 패널 화면
```
┌─────────────────────────────────────────┐
│  [관리자 대시보드]                       │
│  📊 대시보드                             │
├─────────────────────────────────────────┤
│  📹 화상 회의                            │ ← 여기!
│  팀원이나 고객과 실시간 화상 통화를...   │
│                    [화상 회의] 버튼      │
├─────────────────────────────────────────┤
│  📊 통계 카드 (4개)                      │
│  [총 고객 수] [전체 여행 수] ...         │
└─────────────────────────────────────────┘
```

## 🔍 빠른 확인 방법

### 현재 디렉토리 확인
```bash
pwd
# 출력이 /home/userhyeseon28/projects/cruise-guide 이어야 함
```

### 서버 실행 상태 확인

**Next.js 서버**:
- 브라우저에서 `http://localhost:3000` 접속
- 정상이면 Next.js 홈페이지가 보임

**Socket.io 서버**:
- 터미널에 다음 메시지가 보여야 함:
```
[Socket Server] Listening on port 3001
[Socket Server] WebSocket path: /api/video/ws
[Socket Server] Ready for connections!
```

## ⚠️ 문제 해결

### 화상 회의 버튼이 안 보임
1. 페이지를 스크롤해서 확인
2. 브라우저 캐시 삭제 후 새로고침 (Ctrl+Shift+R)
3. 개발자 도구에서 에러 확인 (F12)

### Socket.io 연결 실패
1. Socket.io 서버가 실행 중인지 확인
2. `.env.local`에 `NEXT_PUBLIC_SOCKET_URL=http://localhost:3001` 설정 확인

### 카메라/마이크 권한 오류
1. 브라우저 설정에서 카메라/마이크 권한 허용
2. HTTPS 또는 localhost에서만 작동 (일부 브라우저)

## 📝 테스트 체크리스트

- [ ] Next.js 서버 실행 (`npm run dev`)
- [ ] Socket.io 서버 실행 (`npm run socket`)
- [ ] 대리점장 로그인 성공
- [ ] 대리점장 대시보드에서 "화상 회의" 섹션 확인
- [ ] 관리자 로그인 성공
- [ ] 관리자 대시보드에서 "화상 회의" 섹션 확인
- [ ] "화상 회의" 버튼 클릭 시 모달 열림
- [ ] 새 미팅 생성 가능
- [ ] 미팅 링크 복사 가능

## 🎉 성공 확인

화상 회의 기능이 정상 작동하면:
1. "화상 회의" 버튼 클릭 시 모달이 열림
2. "새 미팅 시작하기" 클릭 시 미팅 생성 폼 표시
3. 미팅 생성 후 링크가 생성됨
4. 링크로 접속 시 미팅 참가 화면 표시







