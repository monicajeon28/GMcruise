# ë°°í¬ ì™„ë£Œ ë¦¬í¬íŠ¸

**ì¼ì‹œ**: 2025ë…„ 11ì›” 26ì¼  
**ìƒíƒœ**: âœ… ë°°í¬ íŠ¸ë¦¬ê±° ì™„ë£Œ

---

## âœ… ì™„ë£Œëœ ì‘ì—…

### 1. í”„ë¡œì íŠ¸ ë°±ì—…
- âœ… ë°±ì—… íŒŒì¼: `cruise-guide-backup-20251126_170615.tar.gz` (529MB)
- âœ… ìœ„ì¹˜: `/home/userhyeseon28/projects/cruise-guide-backups/`

### 2. Git ì‘ì—…
- âœ… `developx` ë¸Œëœì¹˜ì— ì»¤ë°‹ ë° í‘¸ì‹œ ì™„ë£Œ
- âœ… `main` ë¸Œëœì¹˜ë¡œ ë¨¸ì§€ ì™„ë£Œ
- âœ… `main` ë¸Œëœì¹˜ í‘¸ì‹œ ì™„ë£Œ (ì»¤ë°‹: `d1c49eb`)

### 3. ë°°í¬ íŠ¸ë¦¬ê±°
- âœ… Vercelì´ `main` ë¸Œëœì¹˜ë¥¼ ëª¨ë‹ˆí„°ë§í•˜ë¯€ë¡œ **ìë™ ë°°í¬ê°€ ì‹œì‘ë¨**

---

## ğŸš€ ë°°í¬ ìƒíƒœ í™•ì¸

### Vercel ëŒ€ì‹œë³´ë“œì—ì„œ í™•ì¸:
1. **ì ‘ì†**: https://vercel.com/dashboard
2. **í”„ë¡œì íŠ¸ ì„ íƒ**: `cruise-guide` ë˜ëŠ” `GMcruise`
3. **Deployments íƒ­** í™•ì¸:
   - ğŸŸ¡ **Building**: ë°°í¬ ì§„í–‰ ì¤‘ (2-5ë¶„ ì†Œìš”)
   - ğŸŸ¢ **Ready**: ë°°í¬ ì™„ë£Œ
   - ğŸ”´ **Error**: ë°°í¬ ì‹¤íŒ¨ (ë¡œê·¸ í™•ì¸ í•„ìš”)

### ë°°í¬ ë¡œê·¸ í™•ì¸:
- ìµœì‹  ë°°í¬ í´ë¦­ â†’ Build Logs íƒ­
- ì—ëŸ¬ê°€ ìˆë‹¤ë©´ ë¡œê·¸ì—ì„œ í™•ì¸ ê°€ëŠ¥

---

## ğŸ“‹ ë°°í¬ í›„ í™•ì¸ ì‚¬í•­

### 1. ë°°í¬ ì™„ë£Œ í™•ì¸
- [ ] Vercel ëŒ€ì‹œë³´ë“œì—ì„œ ë°°í¬ ìƒíƒœ í™•ì¸
- [ ] ë°°í¬ URL ì ‘ì† í…ŒìŠ¤íŠ¸
- [ ] ë°°í¬ ë¡œê·¸ í™•ì¸ (ì—ëŸ¬ ì—†ìŒ)

### 2. ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸
- [ ] ë©”ì¸ í˜ì´ì§€ ë¡œë“œ í™•ì¸
- [ ] í¬ë£¨ì¦ˆê°€ì´ë“œ ê¸°ëŠ¥ ì •ìƒ ì‘ë™
- [ ] 3ì¼ì²´í—˜ ê¸°ëŠ¥ ì •ìƒ ì‘ë™
- [ ] ë¡œê·¸ì¸/íšŒì›ê°€ì… ê¸°ëŠ¥ í™•ì¸
- [ ] ì±„íŒ… ê¸°ëŠ¥ í™•ì¸

### 3. í™˜ê²½ ë³€ìˆ˜ í™•ì¸
- [ ] Vercel ëŒ€ì‹œë³´ë“œ > Settings > Environment Variables
- [ ] í•„ìˆ˜ í™˜ê²½ ë³€ìˆ˜ ì„¤ì • í™•ì¸

---

## âš ï¸ ì¤‘ìš” ì‚¬í•­

1. **ìˆ˜ì • ê¸ˆì§€ ë³´í˜¸**
   - âœ… í¬ë£¨ì¦ˆê°€ì´ë“œ: í˜„ì¬ ìƒíƒœ ë³´ì¡´
   - âœ… í¬ë£¨ì¦ˆê°€ì´ë“œ 3ì¼ì²´í—˜: í˜„ì¬ ìƒíƒœ ë³´ì¡´
   - âœ… ë°±ì—… íŒŒì¼ ë³´ê´€ ì™„ë£Œ

2. **ë°°í¬ ëª¨ë‹ˆí„°ë§**
   - ë°°í¬ ì§„í–‰ ìƒí™©ì„ Vercel ëŒ€ì‹œë³´ë“œì—ì„œ í™•ì¸
   - ë°°í¬ ì™„ë£Œ í›„ ì¦‰ì‹œ ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸ ê¶Œì¥

---

## ğŸ”— ìœ ìš©í•œ ë§í¬

- **Vercel ëŒ€ì‹œë³´ë“œ**: https://vercel.com/dashboard
- **GitHub ì €ì¥ì†Œ**: https://github.com/monicajeon28/GMcruise
- **ë°°í¬ ë¡œê·¸**: Vercel ëŒ€ì‹œë³´ë“œ > Deployments > ìµœì‹  ë°°í¬ í´ë¦­

---

## ğŸ”§ Vercel ë¹Œë“œ ì˜¤ë¥˜ í•´ê²°

### í•´ê²°ëœ ì˜¤ë¥˜ë“¤

#### 1. ë™ì  ì„œë²„ ì‚¬ìš© ì˜¤ë¥˜ (Dynamic Server Usage)
**ë¬¸ì œ**: ì—¬ëŸ¬ API ë¼ìš°íŠ¸ì—ì„œ ì¿ í‚¤ë‚˜ searchParamsë¥¼ ì‚¬ìš©í•˜ëŠ”ë° ì •ì  ë Œë”ë§ì„ ì‹œë„í•˜ì—¬ ì˜¤ë¥˜ ë°œìƒ

**í•´ê²°**:
- âœ… `app/api/admin/affiliate/settlements/route.ts`ì— `export const dynamic = 'force-dynamic'` ì¶”ê°€
- âœ… ë‹¤ë¥¸ ëª¨ë“  API ë¼ìš°íŠ¸ëŠ” ì´ë¯¸ ì„¤ì •ë˜ì–´ ìˆìŒ (532ê°œ íŒŒì¼ í™•ì¸ ì™„ë£Œ)

**ì˜í–¥ë°›ì€ ë¼ìš°íŠ¸ë“¤**:
- `/api/admin/affiliate/contracts/education-sections` (searchParams ì‚¬ìš©)
- `/api/admin/affiliate/links/options` (ì¿ í‚¤ ì‚¬ìš©)
- `/api/admin/affiliate/leads` (ì¿ í‚¤ ì‚¬ìš©)
- `/api/admin/affiliate/settlements` (ì¿ í‚¤ ì‚¬ìš©)
- `/api/partner/passport-requests` (ì¿ í‚¤ ì‚¬ìš©)
- `/api/partner/products/active` (ì¿ í‚¤ ì‚¬ìš©)
- `/api/public/youtube` (request.url ì‚¬ìš©)
- `/api/terminals/search` (searchParams ì‚¬ìš©)

#### 2. Google Sheets API í•¨ìˆ˜ ëˆ„ë½ ì˜¤ë¥˜
**ë¬¸ì œ**: `'saveReviewToSheets'ê°€ '@/lib/google-sheets'ì—ì„œ ë‚´ë³´ë‚´ì§€ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤` ì˜¤ë¥˜

**ì›ì¸**:
- `lib/google-sheets.ts` íŒŒì¼ì´ ë¹„ì–´ ìˆì—ˆìŒ
- ì—¬ëŸ¬ íŒŒì¼ì—ì„œ `syncApisSpreadsheet` í•¨ìˆ˜ë¥¼ importí•˜ê³  ìˆì—ˆìŒ:
  - `app/api/trip/sync-apis/route.ts`
  - `app/api/admin/apis/generate/route.ts`
  - `scripts/test-apis-sync.ts`

**í•´ê²°**:
- âœ… `lib/google-sheets.ts`ì— `syncApisSpreadsheet` stub í•¨ìˆ˜ ì¶”ê°€
- âœ… ë¹Œë“œ ì˜¤ë¥˜ ë°©ì§€ë¥¼ ìœ„í•œ ìµœì†Œ êµ¬í˜„ ì™„ë£Œ

**âš ï¸ ì¤‘ìš”: í˜„ì¬ëŠ” stub í•¨ìˆ˜ë¡œ ë¹Œë“œ ì˜¤ë¥˜ë¥¼ ë°©ì§€í•©ë‹ˆë‹¤**

```typescript
// lib/google-sheets.ts
export async function syncApisSpreadsheet(tripId: number): Promise<{...}> {
  // TODO: ì‹¤ì œ Google Sheets API ì—°ë™ êµ¬í˜„ í•„ìš”
  return {
    ok: false,
    error: 'Google Sheets API ì—°ë™ì´ ì•„ì§ êµ¬í˜„ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.',
    ...
  };
}
```

**ì‹¤ì œ Google Sheets API ì—°ë™ì´ í•„ìš”í•˜ë©´**:
1. `lib/google-sheets.ts` íŒŒì¼ì˜ `syncApisSpreadsheet` í•¨ìˆ˜ ë‚´ë¶€ë¥¼ êµ¬í˜„í•´ì•¼ í•©ë‹ˆë‹¤
2. Google Sheets API ì¸ì¦ ì„¤ì • í•„ìš” (ì„œë¹„ìŠ¤ ê³„ì • ë˜ëŠ” OAuth)
3. Google Drive API ì—°ë™ í•„ìš” (í´ë” ìƒì„±, íŒŒì¼ ì—…ë¡œë“œ ë“±)
4. ìŠ¤í”„ë ˆë“œì‹œíŠ¸ ìƒì„± ë° ë°ì´í„° ë™ê¸°í™” ë¡œì§ êµ¬í˜„ í•„ìš”

**ì°¸ê³ **: í˜„ì¬ ì´ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ëŠ” APIë“¤ì€ ì—ëŸ¬ë¥¼ ë°˜í™˜í•˜ì§€ë§Œ, ë¹Œë“œëŠ” ì„±ê³µí•©ë‹ˆë‹¤.

---

**ì‘ì„±ì**: AI Assistant  
**ìƒíƒœ**: ë°°í¬ íŠ¸ë¦¬ê±° ì™„ë£Œ, Vercel ìë™ ë°°í¬ ì§„í–‰ ì¤‘

