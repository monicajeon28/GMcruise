# API 500 에러 디버깅 가이드

## 🔍 에러 확인 방법

### 1. 서버 터미널 확인

Next.js 서버가 실행 중인 터미널에서 다음 로그를 확인하세요:

```
[Video Rooms] Create database error: ...
[Video Rooms] Error details: { message: ..., code: ..., meta: ... }
```

또는

```
[Video Rooms] Session query error: ...
```

### 2. 브라우저 콘솔 확인

F12 → Console 탭에서:
```
[VideoMeetingWidget] Create failed: { error: ..., details: ... }
```

### 3. Network 탭 확인

F12 → Network 탭:
1. `/api/video/rooms` 요청 클릭
2. Response 탭에서 에러 메시지 확인
3. `details` 필드에 상세 에러 정보가 표시됩니다

## 🔧 일반적인 문제 해결

### 문제 1: 세션 조회 실패
**증상**: `세션 조회에 실패했습니다.`

**해결**:
1. 로그아웃 후 다시 로그인
2. 브라우저 쿠키 삭제
3. 서버 재시작

### 문제 2: 데이터베이스 쿼리 실패
**증상**: `미팅 방 생성에 실패했습니다.`

**해결**:
```bash
cd /home/userhyeseon28/projects/cruise-guide
npx prisma db push
npx prisma generate
```

### 문제 3: 사용자 정보 없음
**증상**: `사용자 정보를 찾을 수 없습니다.`

**해결**:
1. 관리자 계정으로 로그인 확인
2. 세션 쿠키 확인
3. 데이터베이스에서 사용자 정보 확인

## 📝 수정 사항

1. ✅ 세션 조회 에러 처리 강화
2. ✅ 데이터베이스 쿼리 에러 상세 로깅
3. ✅ 에러 응답에 `details` 필드 추가
4. ✅ 클라이언트 에러 로깅 개선

## 🎯 다음 단계

1. 서버 재시작
2. 브라우저 새로고침
3. 서버 터미널에서 에러 로그 확인
4. 에러 메시지를 알려주시면 정확한 해결책을 제시하겠습니다







