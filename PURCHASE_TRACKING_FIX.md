# κµ¬λ§¤ μ¶”μ  κΈ°λ¥ μμ • μ™„λ£

> **μ‘μ„±μΌ**: 2025-01-20  
> **λ©μ **: νλ§¤μ›/λ€λ¦¬μ μ¥μ„ ν†µν• κµ¬λ§¤ μ¶”μ  κ°€λ¥ν•λ„λ΅ μμ •

---

## β… μμ • μ™„λ£ μ‚¬ν•­

### 1. μµμΆ… νμ΄μ§€ URLμ— partner μ •λ³΄ μ¶”κ°€

**μμ • νμΌ**:
- `app/api/chat-bot/start/route.ts`
- `app/api/chat-bot/question/[id]/route.ts`
- `app/chat-bot/page.tsx`

**λ³€κ²½ λ‚΄μ©**:
- `partner` νλΌλ―Έν„°κ°€ μμΌλ©΄ μµμΆ… νμ΄μ§€ URLμ— μλ™ μ¶”κ°€
- μ: `/products/TEST-2025-TW-03/payment?partner=partner123`

### 2. API νΈμ¶ μ‹ partner νλΌλ―Έν„° μ „λ‹¬

**μμ • νμΌ**:
- `app/chat-bot/page.tsx`

**λ³€κ²½ λ‚΄μ©**:
- `loadQuestion()` ν•¨μμ—μ„ partner νλΌλ―Έν„° μ „λ‹¬
- `start` API νΈμ¶ μ‹ partner νλΌλ―Έν„° μ „λ‹¬

### 3. μ„Έμ… μƒμ„± μ‹ partner μ •λ³΄ μ €μ¥

**μμ • νμΌ**:
- `app/chat-bot/page.tsx`
- `app/api/chat-bot/session/route.ts`

**λ³€κ²½ λ‚΄μ©**:
- μ„Έμ… μƒμ„± μ‹ `partnerId` μ „λ‹¬
- (μ°Έκ³ : ν„μ¬ μ¤ν‚¤λ§μ— partnerId ν•„λ“κ°€ μ—†μ–΄λ„ URLμ— ν¬ν•¨λλ―€λ΅ κµ¬λ§¤ μ¶”μ  κ°€λ¥)

---

## π” κµ¬λ§¤ μ¶”μ  νλ¦„

### 1. μ±—λ΄‡ μ‹μ‘
```
GET /api/chat-bot/start?productCode=TEST-2025-TW-03&partner=partner123
```
- `partner` νλΌλ―Έν„° μ¶”μ¶
- μµμΆ… νμ΄μ§€ URLμ— partner μ •λ³΄ ν¬ν•¨

### 2. μ§λ¬Έ λ΅λ“
```
GET /api/chat-bot/question/{id}?productCode=TEST-2025-TW-03&partner=partner123
```
- `partner` νλΌλ―Έν„° μ „λ‹¬
- μµμΆ… νμ΄μ§€ URLμ— partner μ •λ³΄ ν¬ν•¨

### 3. μµμΆ… νμ΄μ§€ μ΄λ™
```
μµμΆ… URL: /products/TEST-2025-TW-03/payment?partner=partner123
```
- κµ¬λ§¤ νμ΄μ§€μ—μ„ `partner` νλΌλ―Έν„°λ΅ μ¶”μ  κ°€λ¥

---

## π“ κµ¬λ§¤ μ¶”μ  ν™•μΈ λ°©λ²•

### 1. URL ν™•μΈ
- μµμΆ… νμ΄μ§€ URLμ— `?partner=partner123` ν¬ν•¨ μ—¬λ¶€ ν™•μΈ

### 2. μ„Έμ… ν™•μΈ
- μ„Έμ… μƒμ„± μ‹ `partnerId` μ „λ‹¬ μ—¬λ¶€ ν™•μΈ
- (ν„μ¬λ” URLμ— ν¬ν•¨λμ–΄ κµ¬λ§¤ μ¶”μ  κ°€λ¥)

### 3. κµ¬λ§¤ νμ΄μ§€μ—μ„ ν™•μΈ
- κµ¬λ§¤ νμ΄μ§€μ—μ„ `searchParams.get('partner')`λ΅ ννΈλ„ ID μ¶”μ¶
- κµ¬λ§¤ μ‹ ννΈλ„ μ •λ³΄μ™€ ν•¨κ» μ €μ¥

---

## β οΈ μ£Όμμ‚¬ν•­

### ν„μ¬ μƒνƒ
- β… μµμΆ… νμ΄μ§€ URLμ— partner μ •λ³΄ ν¬ν•¨ (κµ¬λ§¤ μ¶”μ  κ°€λ¥)
- β… λ¨λ“  API νΈμ¶ μ‹ partner νλΌλ―Έν„° μ „λ‹¬
- β οΈ μ„Έμ… DBμ— partnerId ν•„λ“ μ—†μ (URLλ΅ μ¶”μ  κ°€λ¥ν•λ―€λ΅ λ¬Έμ  μ—†μ)

### ν–¥ν›„ κ°μ„  μ‚¬ν•­ (μ„ νƒ)
- μ„Έμ… DBμ— `partnerId` ν•„λ“ μ¶”κ°€ (λ” μ •ν™•ν• μ¶”μ )
- κµ¬λ§¤ μ™„λ£ μ‹ μ„Έμ…μ— partner μ •λ³΄ μ €μ¥

---

## π§ ν…μ¤νΈ λ°©λ²•

1. **μ±—λ΄‡ μ‹μ‘**
   ```
   /chat-bot?productCode=TEST-2025-TW-03&partner=partner123
   ```

2. **μµμΆ… νμ΄μ§€ ν™•μΈ**
   - μ±—λ΄‡ μ™„λ£ ν›„ μµμΆ… νμ΄μ§€ URL ν™•μΈ
   - `?partner=partner123` ν¬ν•¨ μ—¬λ¶€ ν™•μΈ

3. **κµ¬λ§¤ νμ΄μ§€ ν™•μΈ**
   - κµ¬λ§¤ νμ΄μ§€μ—μ„ `partner` νλΌλ―Έν„° μ¶”μ¶
   - κµ¬λ§¤ μ‹ ννΈλ„ μ •λ³΄μ™€ ν•¨κ» μ €μ¥

---

**μ‘μ„±μ**: AI Assistant  
**μµμΆ… μ—…λ°μ΄νΈ**: 2025-01-20


