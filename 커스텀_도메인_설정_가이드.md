# 커스텀 도메인 설정 가이드

> **도메인**: https://www.cruisedot.co.kr/  
> **플랫폼**: Vercel  
> **작성일**: 2025년 1월 28일

---

## 🎯 목표

Vercel 배포에 커스텀 도메인 `https://www.cruisedot.co.kr/` 연결

---

## 📋 Vercel에서 도메인 설정 방법

### 1단계: Vercel 대시보드 접속

1. **Vercel 대시보드**: https://vercel.com/dashboard
2. **프로젝트 선택**: cruise-guide (또는 해당 프로젝트)
3. **Settings** 탭 클릭
4. **Domains** 메뉴 클릭

### 2단계: 도메인 추가

1. **"Add Domain"** 버튼 클릭
2. **도메인 입력**: `www.cruisedot.co.kr`
3. **"Add"** 버튼 클릭

### 3단계: DNS 설정 안내 확인

Vercel이 자동으로 필요한 DNS 레코드를 안내합니다.

---

## 🔧 DNS 레코드 설정

### 도메인 등록 업체에서 설정

도메인 등록 업체(예: 가비아, 후이즈, Route53 등)의 DNS 관리 페이지에서 다음 레코드를 추가합니다.

#### 방법 1: CNAME 레코드 (권장)

```
타입: CNAME
이름: www
값: cname.vercel-dns.com
TTL: 3600 (또는 기본값)
```

#### 방법 2: A 레코드

```
타입: A
이름: @ (또는 www)
값: 76.76.21.21 (Vercel IP 주소 - Vercel에서 제공하는 IP 확인 필요)
TTL: 3600
```

**참고**: Vercel 대시보드에서 정확한 DNS 레코드 값을 확인하세요.

---

## ⏳ SSL 인증서 발급 대기

### 자동 발급
- Vercel이 자동으로 SSL 인증서를 발급합니다
- 보통 **몇 분~몇 시간** 소요됩니다
- DNS 전파가 완료되면 자동으로 HTTPS가 활성화됩니다

### 확인 방법
1. Vercel 대시보드 > Settings > Domains
2. 도메인 상태 확인:
   - ✅ **Valid Configuration**: DNS 설정 완료
   - ⏳ **Pending**: DNS 전파 대기 중
   - ❌ **Invalid Configuration**: DNS 설정 오류

---

## 🔍 DNS 전파 확인

### 온라인 도구 사용
- **DNS Checker**: https://dnschecker.org/
- **What's My DNS**: https://www.whatsmydns.net/
- 도메인: `www.cruisedot.co.kr`
- 레코드 타입: CNAME 또는 A

### 명령어로 확인 (로컬)
```bash
# CNAME 레코드 확인
dig www.cruisedot.co.kr CNAME

# 또는
nslookup www.cruisedot.co.kr
```

---

## ⚙️ 환경 변수 업데이트

### Vercel 환경 변수 설정

도메인 설정 후 다음 환경 변수를 업데이트하세요:

1. **Vercel 대시보드** > **Settings** > **Environment Variables**
2. 다음 환경 변수 추가/수정:

```
NEXT_PUBLIC_BASE_URL=https://www.cruisedot.co.kr
```

또는 프로덕션 환경에만 설정:

```
NEXT_PUBLIC_BASE_URL=https://www.cruisedot.co.kr
(Environment: Production)
```

### 코드에서 사용

이미 코드에서 `process.env.NEXT_PUBLIC_BASE_URL`을 사용하고 있다면, 환경 변수만 업데이트하면 됩니다.

---

## ✅ 확인 사항

### 도메인 연결 확인
- [ ] Vercel 대시보드에서 도메인 추가 완료
- [ ] DNS 레코드 설정 완료
- [ ] DNS 전파 완료 (24-48시간 소요 가능)
- [ ] SSL 인증서 발급 완료
- [ ] https://www.cruisedot.co.kr 접속 확인

### 환경 변수 확인
- [ ] `NEXT_PUBLIC_BASE_URL` 환경 변수 설정
- [ ] 프로덕션 환경에 적용 확인

### 기능 테스트
- [ ] 도메인으로 사이트 접속 확인
- [ ] HTTPS 연결 확인 (자물쇠 아이콘)
- [ ] 주요 기능 동작 확인

---

## 🔧 문제 해결

### DNS 설정이 적용되지 않음
1. **DNS 전파 대기**: 최대 48시간 소요 가능
2. **DNS 레코드 확인**: 올바른 값으로 설정되었는지 확인
3. **TTL 값 확인**: 낮은 TTL 값으로 설정하여 빠른 전파

### SSL 인증서 발급 실패
1. **DNS 전파 완료 확인**: DNS가 완전히 전파되었는지 확인
2. **Vercel 로그 확인**: 도메인 설정 페이지에서 오류 메시지 확인
3. **Vercel 지원팀 문의**: 문제가 지속되면 Vercel 지원팀에 문의

### 도메인 접속 불가
1. **DNS 전파 확인**: 온라인 도구로 DNS 전파 상태 확인
2. **방화벽 확인**: 도메인 등록 업체의 방화벽 설정 확인
3. **Vercel 배포 상태 확인**: 배포가 정상적으로 완료되었는지 확인

---

## 📝 참고 사항

### 도메인 등록 업체별 설정 방법
- **가비아**: DNS 관리 > 레코드 추가
- **후이즈**: DNS 관리 > 레코드 추가
- **Route53**: 호스팅 영역 > 레코드 생성
- **기타**: 각 업체의 DNS 관리 페이지에서 레코드 추가

### Vercel 무료 플랜
- 커스텀 도메인 무제한 지원
- SSL 인증서 자동 발급 (Let's Encrypt)
- HTTPS 자동 활성화

### 프로덕션 환경
- 도메인 설정 후 자동으로 프로덕션 환경에 적용됩니다
- 프리뷰 배포는 기존 Vercel URL로 계속 접근 가능합니다

---

## 🚀 다음 단계

1. **Vercel 대시보드에서 도메인 추가**
2. **DNS 레코드 설정** (도메인 등록 업체)
3. **DNS 전파 대기** (보통 몇 시간~24시간)
4. **SSL 인증서 발급 대기** (자동)
5. **환경 변수 업데이트** (`NEXT_PUBLIC_BASE_URL`)
6. **도메인 접속 테스트**

---

**작성자**: AI Assistant  
**상태**: 도메인 설정 준비 완료  
**다음 단계**: Vercel 대시보드에서 도메인 추가




