# 상품 편집기 개선 계획

## 완료된 작업
1. ✅ 저장 오류 수정: `refund-policy-groups` API의 `updatedAt` 필드 추가

## 진행 중인 작업

### 1. 이미지 업로드 자동 저장 (구글 드라이브)
- **현재 상태**: 이미지 업로드 시 "[크루즈정보사진]에 저장" 묻는 모달 표시
- **목표**: 묻지 않고 자동으로 구글 드라이브 "상품" 폴더에 저장
- **수정 파일**: `components/admin/ProductDetailEditor.tsx`
- **변경 사항**: 
  - `handleFileUpload` 함수에서 카테고리 모달 제거
  - `uploadFile` 함수에서 `productCode`가 있으면 자동으로 구글 드라이브 "상품" 폴더에 저장
  - API 호출 시 `productCode`와 `autoSaveToGoogleDrive: true` 플래그 전달

### 2. 포함/불포함 사항 UI 개선
- **현재 상태**: 추가 버튼이 보이지 않음
- **목표**: 포함사항과 불포함 사항 각각에 "추가" 버튼 표시, 가독성 향상
- **수정 파일**: `components/admin/IncludedExcludedEditor.tsx`
- **변경 사항**:
  - 포함사항 섹션에 "추가" 버튼 명확히 표시
  - 불포함 사항 섹션에 "추가" 버튼 명확히 표시
  - 레이아웃 개선 (위: 포함사항, 아래: 불포함 사항)

### 3. 항공정보 소요시간 자동 계산
- **현재 상태**: 출국 시간은 계산되지만 귀국 시간이 표시되지 않음
- **목표**: 출국/귀국 모두 시차를 고려한 소요시간 자동 계산
- **수정 파일**: `components/admin/FlightInfoEditor.tsx`
- **변경 사항**:
  - 귀국 항공편 소요시간 계산 로직 추가
  - 각 나라별 시차 데이터 활용
  - 출국/귀국 시간 모두 표시

### 4. 요금표 모달 기능
- **현재 상태**: 요금표 입력 칸이 너무 좁음
- **목표**: 모달로 크게 보여서 입력하고 저장
- **수정 파일**: 
  - `components/admin/PricingTableEditor.tsx` (입력 모달)
  - `components/mall/ProductDetail.tsx` (보기 모달)
  - `components/admin/MobilePreview.tsx` (미리보기 모달)
- **변경 사항**:
  - 요금표 편집 시 모달로 표시
  - 구매몰에서 요금표 클릭 시 모달로 표시
  - 스마트폰 미리보기에서도 요금표 클릭 시 모달로 표시

### 5. 별점 클릭 시 리뷰 미리보기
- **현재 상태**: 별점만 표시되고 리뷰는 보이지 않음
- **목표**: 별점 클릭 시 실제 리뷰가 생성되는 것처럼 미리보기
- **수정 파일**: `components/admin/MobilePreview.tsx`
- **변경 사항**:
  - 별점 클릭 시 리뷰 목록 표시
  - `rating`과 `reviewCount`를 기반으로 샘플 리뷰 생성
  - 스마트폰 미리보기에서 실제처럼 보이도록 구현

### 6. 환불/취소 규정 그룹 관리
- **현재 상태**: 그룹 저장/관리 기능이 있지만 완전하지 않음
- **목표**: 그룹 저장/불러오기 기능 완전히 작동
- **수정 파일**: `components/admin/RefundPolicyEditor.tsx`
- **변경 사항**:
  - 그룹 저장 시 `updatedAt` 필드 포함 (이미 수정됨)
  - 그룹 불러오기 기능 확인 및 수정
  - 상품 편집과 수동 등록 모두에서 동일하게 작동하도록 확인

### 7. 이미지/동영상/요금표 모달 (스마트폰 미리보기)
- **현재 상태**: 클릭 시 확대되지 않음
- **목표**: 이미지, 동영상, 요금표 클릭 시 모달로 확대 표시
- **수정 파일**: `components/admin/MobilePreview.tsx`
- **변경 사항**:
  - 이미지 클릭 시 모달로 확대
  - 동영상 클릭 시 모달로 재생
  - 요금표 클릭 시 모달로 표시

## 우선순위
1. 저장 오류 수정 (완료)
2. 포함/불포함 사항 UI 개선 (가장 간단)
3. 이미지 업로드 자동 저장
4. 항공정보 소요시간 자동 계산
5. 요금표 모달 기능
6. 별점 클릭 시 리뷰 미리보기
7. 이미지/동영상/요금표 모달 (스마트폰 미리보기)










