# ì—¬ê¶Œ OCR - ì„±ë³„, ë°œê¸‰ì¼ ìë™ ì¸ì‹ ì¶”ê°€ ì™„ë£Œ âœ…

## ìµœì¢… ê°œì„  ë‚´ìš©

### ì¶”ì¶œ ê°€ëŠ¥í•œ ì •ë³´ (í™•ì¥ë¨)

#### Before (ê¸°ì¡´)
1. âœ… í•œê¸€ ì´ë¦„ (korName)
2. âœ… ì˜ë¬¸ ì„± (engSurname)
3. âœ… ì˜ë¬¸ ì´ë¦„ (engGivenName)
4. âœ… ì—¬ê¶Œë²ˆí˜¸ (passportNo)
5. âœ… êµ­ì  (nationality)
6. âœ… ìƒë…„ì›”ì¼ (dateOfBirth)
7. âœ… ì—¬ê¶Œë§Œë£Œì¼ (passportExpiryDate)

#### After (ê°œì„ )
1. âœ… í•œê¸€ ì´ë¦„ (korName)
2. âœ… ì˜ë¬¸ ì„± (engSurname)
3. âœ… ì˜ë¬¸ ì´ë¦„ (engGivenName)
4. âœ… ì—¬ê¶Œë²ˆí˜¸ (passportNo)
5. âœ… êµ­ì  (nationality)
6. **âœ… ì„±ë³„ (sex)** â¬…ï¸ **NEW!**
7. âœ… ìƒë…„ì›”ì¼ (dateOfBirth)
8. **âœ… ë°œê¸‰ì¼ (dateOfIssue)** â¬…ï¸ **NEW!**
9. âœ… ì—¬ê¶Œë§Œë£Œì¼ (passportExpiryDate)

---

## 1. API ë³€ê²½ì‚¬í•­

### íŒŒì¼: `app/api/passport/scan/route.ts`

#### JSON ì‘ë‹µ í˜•ì‹ í™•ì¥
**Lines: 60-71**

```json
{
  "korName": "í™ê¸¸ë™",
  "engSurname": "HONG",
  "engGivenName": "GILDONG",
  "passportNo": "M12345678",
  "nationality": "KOR",
  "sex": "M",                    // â¬…ï¸ ì¶”ê°€
  "dateOfBirth": "1990-01-15",
  "dateOfIssue": "2020-01-15",   // â¬…ï¸ ì¶”ê°€
  "passportExpiryDate": "2030-01-15"
}
```

---

#### í”„ë¡¬í”„íŠ¸ ê°œì„  - í•„ë“œ ì¸ì‹ ê°€ì´ë“œ
**Lines: 84-93**

```
Example passport fields to look for:
- Surname / ì„±
- Given names / ì´ë¦„
- Passport No. / ì—¬ê¶Œë²ˆí˜¸
- Nationality / êµ­ì 
- Sex / ì„±ë³„ (M or F, look for "Sex", "ì„±ë³„", or single letter M/F near other personal info)
- Date of birth / ìƒë…„ì›”ì¼ (look for "Date of birth", "ìƒë…„ì›”ì¼", dates near beginning with DD MMM YYYY or YYMMDD format)
- Date of issue / ë°œê¸‰ì¼ (look for "Date of issue", "ë°œê¸‰ì¼", dates between birth date and expiry date)
- Date of expiry / ë§Œë£Œì¼ (look for "Date of expiry", "ë§Œë£Œì¼", dates usually 10 years after issue date)
- Personal No. / ì£¼ë¯¼ë“±ë¡ë²ˆí˜¸ (ignore this field, do not extract)
```

**í•µì‹¬ ê°œì„ :**
- **ì„±ë³„ (Sex)**: AIì—ê²Œ "Sex", "ì„±ë³„", "M", "F" í‚¤ì›Œë“œë¥¼ ëª…ì‹œì ìœ¼ë¡œ ì°¾ë„ë¡ ì§€ì‹œ
- **ë°œê¸‰ì¼ (Date of issue)**: ìƒë…„ì›”ì¼ê³¼ ë§Œë£Œì¼ ì‚¬ì´ì˜ ë‚ ì§œë¡œ ì¶”ë¡ í•˜ë„ë¡ ì§€ì‹œ
- **ë‚ ì§œ ìˆœì„œ ë…¼ë¦¬**: ìƒë…„ì›”ì¼ < ë°œê¸‰ì¼ < ë§Œë£Œì¼ ê´€ê³„ ì„¤ëª…

---

#### ë°ì´í„° ì •ê·œí™”
**Lines: 154-165**

```typescript
const normalizedData = {
  korName: passportData.korName || '',
  engSurname: passportData.engSurname || '',
  engGivenName: passportData.engGivenName || '',
  passportNo: (passportData.passportNo || '').replace(/\s+/g, '').toUpperCase(),
  sex: (passportData.sex || '').toUpperCase().substring(0, 1), // M ë˜ëŠ” Fë§Œ â¬…ï¸ ì¶”ê°€
  dateOfBirth: normalizeDate(passportData.dateOfBirth),
  dateOfIssue: normalizeDate(passportData.dateOfIssue), // â¬…ï¸ ì¶”ê°€
  passportExpiryDate: normalizeDate(passportData.passportExpiryDate),
  nationality: (passportData.nationality || '').toUpperCase().substring(0, 3),
};
```

**ì„±ë³„ ì²˜ë¦¬:**
- ëŒ€ë¬¸ìë¡œ ë³€í™˜: `M` ë˜ëŠ” `F`
- ì²« ê¸€ìë§Œ ì¶”ì¶œ: `substring(0, 1)`
- ì˜ˆ: "MALE" â†’ "M", "Female" â†’ "F"

---

#### ê²½ê³  ì‹œìŠ¤í…œ í™•ì¥
**Lines: 184-192**

```typescript
const warnings = [];
if (!normalizedData.passportNo) warnings.push('ì—¬ê¶Œë²ˆí˜¸');
if (!normalizedData.engSurname) warnings.push('ì˜ë¬¸ ì„±');
if (!normalizedData.engGivenName) warnings.push('ì˜ë¬¸ ì´ë¦„');
if (!normalizedData.sex) warnings.push('ì„±ë³„');          // â¬…ï¸ ì¶”ê°€
if (!normalizedData.dateOfBirth) warnings.push('ìƒë…„ì›”ì¼');
if (!normalizedData.dateOfIssue) warnings.push('ë°œê¸‰ì¼'); // â¬…ï¸ ì¶”ê°€
if (!normalizedData.passportExpiryDate) warnings.push('ë§Œë£Œì¼');
```

**íš¨ê³¼:**
- OCRì´ ì„±ë³„ì´ë‚˜ ë°œê¸‰ì¼ì„ ì½ì§€ ëª»í•˜ë©´ ê²½ê³  í‘œì‹œ
- ì‚¬ìš©ìê°€ ìˆ˜ë™ìœ¼ë¡œ ì…ë ¥ ê°€ëŠ¥

---

## 2. UI ë³€ê²½ì‚¬í•­

### íŒŒì¼: `components/admin/CustomerDetailModal.tsx`

#### í¼ ìƒíƒœ í™•ì¥
**Lines: 89-99**

```typescript
const [passportForm, setPassportForm] = useState({
  korName: '',
  engGivenName: '',
  engSurname: '',
  passportNo: '',
  sex: '',        // â¬…ï¸ ì¶”ê°€
  birthDate: '',
  issueDate: '',  // â¬…ï¸ ì¶”ê°€
  expiryDate: '',
  reservationId: null as number | null,
});
```

---

#### OCR ìŠ¤ìº” í›„ ìë™ ì…ë ¥
**Lines: 727-738**

```typescript
setPassportForm({
  ...passportForm,
  korName: data.data.korName || '',
  engGivenName: data.data.engGivenName || '',
  engSurname: data.data.engSurname || '',
  passportNo: data.data.passportNo || '',
  sex: data.data.sex || '',                      // â¬…ï¸ ì¶”ê°€
  birthDate: data.data.dateOfBirth || '',
  issueDate: data.data.dateOfIssue || '',        // â¬…ï¸ ì¶”ê°€
  expiryDate: data.data.passportExpiryDate || '',
});
```

---

#### ì„±ë³„ ì„ íƒ í•„ë“œ ì¶”ê°€
**Lines: 829-840**

```tsx
<div>
  <label className="block text-sm font-medium text-gray-700 mb-1">
    ì„±ë³„ *
  </label>
  <select
    value={passportForm.sex}
    onChange={(e) => setPassportForm({ ...passportForm, sex: e.target.value })}
    className="w-full px-3 py-2 border border-gray-300 rounded-lg"
  >
    <option value="">ì„ íƒ</option>
    <option value="M">ë‚¨ì„± (M)</option>
    <option value="F">ì—¬ì„± (F)</option>
  </select>
</div>
```

**íŠ¹ì§•:**
- ë“œë¡­ë‹¤ìš´ ì„ íƒ (select)
- ë‚¨ì„± (M), ì—¬ì„± (F) ì„ íƒ ê°€ëŠ¥
- OCR ìë™ ì…ë ¥ í›„ ìˆ˜ë™ ë³€ê²½ ê°€ëŠ¥

---

#### ë°œê¸‰ì¼ ì…ë ¥ í•„ë“œ ì¶”ê°€
**Lines: 850-858**

```tsx
<div>
  <label className="block text-sm font-medium text-gray-700 mb-1">
    ì—¬ê¶Œ ë°œê¸‰ì¼
  </label>
  <input
    type="date"
    value={passportForm.issueDate}
    onChange={(e) => setPassportForm({ ...passportForm, issueDate: e.target.value })}
    className="w-full px-3 py-2 border border-gray-300 rounded-lg"
  />
</div>
```

**íŠ¹ì§•:**
- ë‚ ì§œ ì„ íƒê¸° (date picker)
- OCR ìë™ ì…ë ¥ í›„ ìˆ˜ë™ ë³€ê²½ ê°€ëŠ¥

---

## 3. OCR ì¸ì‹ ë¡œì§

### ì„±ë³„ (Sex) ì¸ì‹
AIê°€ ë‹¤ìŒê³¼ ê°™ì´ ì¸ì‹í•©ë‹ˆë‹¤:

**ì—¬ê¶Œì—ì„œ ì°¾ëŠ” íŒ¨í„´:**
1. "Sex: M" â†’ `M`
2. "Sex: F" â†’ `F`
3. "ì„±ë³„: M" â†’ `M`
4. "ì„±ë³„: F" â†’ `F`
5. "M" (ë‹¤ë¥¸ ì •ë³´ ê·¼ì²˜) â†’ `M`
6. "F" (ë‹¤ë¥¸ ì •ë³´ ê·¼ì²˜) â†’ `F`
7. "MALE" â†’ `M`
8. "FEMALE" â†’ `F`

**ì •ê·œí™”:**
- ì…ë ¥: "Male", "MALE", "m" â†’ ì¶œë ¥: `M`
- ì…ë ¥: "Female", "FEMALE", "f" â†’ ì¶œë ¥: `F`

---

### ë°œê¸‰ì¼ (Issue Date) ì¸ì‹
AIê°€ ë‹¤ìŒê³¼ ê°™ì´ ì¸ì‹í•©ë‹ˆë‹¤:

**ì—¬ê¶Œì—ì„œ ì°¾ëŠ” íŒ¨í„´:**
1. "Date of issue: 15 JAN 2020" â†’ `2020-01-15`
2. "ë°œê¸‰ì¼: 2020.01.15" â†’ `2020-01-15`
3. "Date of issue: 15 JAN 20" â†’ `2020-01-15` (2ìë¦¬ ì—°ë„ ìë™ ë³€í™˜)
4. ìƒë…„ì›”ì¼ê³¼ ë§Œë£Œì¼ ì‚¬ì´ì˜ ë‚ ì§œ ì¶”ë¡ 

**ë‚ ì§œ í˜•ì‹ ë³€í™˜:**
- `15 JAN 2020` â†’ `2020-01-15`
- `200115` (YYMMDD) â†’ `2020-01-15`
- `20200115` (YYYYMMDD) â†’ `2020-01-15`
- `2020.01.15` â†’ `2020-01-15`

**ë…¼ë¦¬ì  ê²€ì¦:**
```
ìƒë…„ì›”ì¼ < ë°œê¸‰ì¼ < ë§Œë£Œì¼
1990-01-15 < 2020-01-15 < 2030-01-15 âœ“
```

---

## 4. ì‚¬ìš© ì‹œë‚˜ë¦¬ì˜¤

### ì‹œë‚˜ë¦¬ì˜¤ A: ëª¨ë“  ì •ë³´ ì¶”ì¶œ ì„±ê³µ âœ…

**ì…ë ¥:** ì„ ëª…í•œ ì—¬ê¶Œ ì‚¬ì§„
**OCR ê²°ê³¼:**
```json
{
  "korName": "í™ê¸¸ë™",
  "engSurname": "HONG",
  "engGivenName": "GILDONG",
  "passportNo": "M12345678",
  "nationality": "KOR",
  "sex": "M",
  "dateOfBirth": "1990-01-15",
  "dateOfIssue": "2020-01-15",
  "passportExpiryDate": "2030-01-15"
}
```

**ì•Œë¦¼:**
```
âœ… ì—¬ê¶Œ ìŠ¤ìº” ì™„ë£Œ! ëª¨ë“  ì •ë³´ê°€ ì¶”ì¶œë˜ì—ˆìŠµë‹ˆë‹¤.

ì •ë³´ë¥¼ í™•ì¸í•˜ê³  í•„ìš”ì‹œ ìˆ˜ì •í•˜ì„¸ìš”.
```

**UI ìƒíƒœ:**
- ëª¨ë“  í•„ë“œ ìë™ ì…ë ¥ë¨
- ë°”ë¡œ ì €ì¥ ê°€ëŠ¥

---

### ì‹œë‚˜ë¦¬ì˜¤ B: ì„±ë³„/ë°œê¸‰ì¼ ëˆ„ë½ âš ï¸

**ì…ë ¥:** ì¼ë¶€ í…ìŠ¤íŠ¸ê°€ íë¦° ì—¬ê¶Œ ì‚¬ì§„
**OCR ê²°ê³¼:**
```json
{
  "korName": "í™ê¸¸ë™",
  "engSurname": "HONG",
  "engGivenName": "GILDONG",
  "passportNo": "M12345678",
  "nationality": "KOR",
  "sex": "",           // â¬…ï¸ ëˆ„ë½
  "dateOfBirth": "1990-01-15",
  "dateOfIssue": "",   // â¬…ï¸ ëˆ„ë½
  "passportExpiryDate": "2030-01-15"
}
```

**ì•Œë¦¼:**
```
âœ… ì—¬ê¶Œ ìŠ¤ìº” ì™„ë£Œ!

âš ï¸ ì¼ë¶€ ì •ë³´ë¥¼ ì½ì§€ ëª»í–ˆìŠµë‹ˆë‹¤: ì„±ë³„, ë°œê¸‰ì¼.
ìˆ˜ë™ìœ¼ë¡œ ì…ë ¥í•´ì£¼ì„¸ìš”.

ì•„ë˜ ì •ë³´ë¥¼ í™•ì¸í•˜ê³  ëˆ„ë½ëœ ë¶€ë¶„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.
```

**UI ìƒíƒœ:**
- ì¶”ì¶œëœ í•„ë“œëŠ” ìë™ ì…ë ¥ë¨
- ì„±ë³„ ë“œë¡­ë‹¤ìš´: ë¹„ì–´ìˆìŒ â†’ ìˆ˜ë™ ì„ íƒ
- ë°œê¸‰ì¼ ì…ë ¥: ë¹„ì–´ìˆìŒ â†’ ìˆ˜ë™ ì…ë ¥
- ì €ì¥ ê°€ëŠ¥

---

### ì‹œë‚˜ë¦¬ì˜¤ C: ì˜ëª»ëœ ê°’ ìë™ ìˆ˜ì •

**ì…ë ¥:** ì„±ë³„ì´ "MALE"ë¡œ ì „ì²´ ë‹¨ì–´ í‘œì‹œë¨
**OCR ê²°ê³¼:**
```json
{
  "sex": "MALE"
}
```

**ì •ê·œí™” í›„:**
```json
{
  "sex": "M"  // â¬…ï¸ ìë™ìœ¼ë¡œ ì²« ê¸€ìë§Œ ì¶”ì¶œ
}
```

**UI ìƒíƒœ:**
- ì„±ë³„ ë“œë¡­ë‹¤ìš´: "ë‚¨ì„± (M)" ìë™ ì„ íƒë¨

---

## 5. í¼ í•„ë“œ êµ¬ì¡°

### ì „ì²´ í•„ë“œ ë ˆì´ì•„ì›ƒ (2ì—´ ê·¸ë¦¬ë“œ)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ì—¬ê¶Œ ì´ë¯¸ì§€ ì—…ë¡œë“œ * (í•„ìˆ˜)                      â”‚
â”‚  [íŒŒì¼ ì„ íƒ ë²„íŠ¼]                                 â”‚
â”‚  âœ“ ì—¬ê¶Œ ìŠ¤ìº” ì™„ë£Œ - ì•„ë˜ ì •ë³´ë¥¼ í™•ì¸í•˜ì„¸ìš”          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  í•œê¸€ ì´ë¦„ *              â”‚  ì˜ë¬¸ ì´ë¦„             â”‚
â”‚  [í™ê¸¸ë™     ]            â”‚  [GILDONG ]           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ì˜ë¬¸ ì„± *                â”‚  ì—¬ê¶Œë²ˆí˜¸ *            â”‚
â”‚  [HONG      ]            â”‚  [M12345678]          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ì„±ë³„ *                   â”‚  ìƒë…„ì›”ì¼ *            â”‚
â”‚  [â–¼ ë‚¨ì„± (M)]             â”‚  [ğŸ“… 1990-01-15]      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ì—¬ê¶Œ ë°œê¸‰ì¼              â”‚  ë§Œë£Œì¼ *              â”‚
â”‚  [ğŸ“… 2020-01-15]          â”‚  [ğŸ“… 2030-01-15]      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

            [ì €ì¥]   [ì·¨ì†Œ]
```

---

## 6. í…ŒìŠ¤íŠ¸ ë°©ë²•

### 1. ì •ìƒ ì¼€ì´ìŠ¤ (ì„±ë³„ + ë°œê¸‰ì¼ í¬í•¨)
```bash
# 1. ê´€ë¦¬ì íŒ¨ë„ â†’ ê³ ê° ìƒì„¸ ëª¨ë‹¬
# 2. "ìˆ˜ë™ ì—¬ê¶Œ ë“±ë¡" í´ë¦­
# 3. ì„ ëª…í•œ ì—¬ê¶Œ ì‚¬ì§„ ì—…ë¡œë“œ
# ì˜ˆìƒ: ëª¨ë“  9ê°œ í•„ë“œ ì¶”ì¶œ ì„±ê³µ
```

### 2. ì„±ë³„ë§Œ ëˆ„ë½
```bash
# "Sex" í•„ë“œê°€ ê°€ë ¤ì§„ ì—¬ê¶Œ ì‚¬ì§„ ì—…ë¡œë“œ
# ì˜ˆìƒ:
# - ê²½ê³ : "ì„±ë³„"
# - ì„±ë³„ ë“œë¡­ë‹¤ìš´ ë¹„ì–´ìˆìŒ
# - ìˆ˜ë™ ì„ íƒ í•„ìš”
```

### 3. ë°œê¸‰ì¼ë§Œ ëˆ„ë½
```bash
# "Date of issue" í•„ë“œê°€ íë¦° ì—¬ê¶Œ ì‚¬ì§„ ì—…ë¡œë“œ
# ì˜ˆìƒ:
# - ê²½ê³ : "ë°œê¸‰ì¼"
# - ë°œê¸‰ì¼ ì…ë ¥ ë¹„ì–´ìˆìŒ
# - ìˆ˜ë™ ì…ë ¥ í•„ìš”
```

### 4. ì„±ë³„ + ë°œê¸‰ì¼ ëª¨ë‘ ëˆ„ë½
```bash
# ë°˜ì‚¬ê´‘ì´ ì‹¬í•œ ì—¬ê¶Œ ì‚¬ì§„ ì—…ë¡œë“œ
# ì˜ˆìƒ:
# - ê²½ê³ : "ì„±ë³„, ë°œê¸‰ì¼"
# - ë‘ í•„ë“œ ëª¨ë‘ ë¹„ì–´ìˆìŒ
# - ìˆ˜ë™ ì…ë ¥ í•„ìš”
```

---

## 7. API ì‘ë‹µ ì˜ˆì‹œ

### ì™„ì „í•œ ì‘ë‹µ
```json
{
  "ok": true,
  "data": {
    "korName": "í™ê¸¸ë™",
    "engSurname": "HONG",
    "engGivenName": "GILDONG",
    "passportNo": "M12345678",
    "nationality": "KOR",
    "sex": "M",
    "dateOfBirth": "1990-01-15",
    "dateOfIssue": "2020-01-15",
    "passportExpiryDate": "2030-01-15"
  },
  "warnings": null,
  "rawText": "{...}"
}
```

### ê²½ê³  í¬í•¨ ì‘ë‹µ
```json
{
  "ok": true,
  "data": {
    "korName": "í™ê¸¸ë™",
    "engSurname": "HONG",
    "engGivenName": "GILDONG",
    "passportNo": "M12345678",
    "nationality": "KOR",
    "sex": "",        // ëˆ„ë½
    "dateOfBirth": "1990-01-15",
    "dateOfIssue": "", // ëˆ„ë½
    "passportExpiryDate": "2030-01-15"
  },
  "warnings": "ì¼ë¶€ ì •ë³´ë¥¼ ì½ì§€ ëª»í–ˆìŠµë‹ˆë‹¤: ì„±ë³„, ë°œê¸‰ì¼. ìˆ˜ë™ìœ¼ë¡œ ì…ë ¥í•´ì£¼ì„¸ìš”.",
  "rawText": "{...}"
}
```

---

## 8. ìˆ˜ì •ëœ íŒŒì¼ ëª©ë¡

### 1. **`app/api/passport/scan/route.ts`**
- JSON í˜•ì‹ í™•ì¥ (`sex`, `dateOfIssue` ì¶”ê°€)
- í”„ë¡¬í”„íŠ¸ ê°œì„  (ì„±ë³„, ë°œê¸‰ì¼ ì¸ì‹ ê°€ì´ë“œ)
- ë°ì´í„° ì •ê·œí™” (ì„±ë³„ ì²« ê¸€ì ì¶”ì¶œ)
- ê²½ê³  ì‹œìŠ¤í…œ í™•ì¥

### 2. **`components/admin/CustomerDetailModal.tsx`**
- í¼ ìƒíƒœ í™•ì¥ (`sex`, `issueDate` ì¶”ê°€)
- OCR ìŠ¤ìº” í›„ ìë™ ì…ë ¥ ë¡œì§
- ì„±ë³„ ì„ íƒ í•„ë“œ (select dropdown)
- ë°œê¸‰ì¼ ì…ë ¥ í•„ë“œ (date picker)
- í¼ ë¦¬ì…‹ ì‹œ ìƒˆ í•„ë“œ í¬í•¨

---

## âœ… ì™„ë£Œ ì²´í¬ë¦¬ìŠ¤íŠ¸

- [x] API: `sex` í•„ë“œ ì¶”ê°€
- [x] API: `dateOfIssue` í•„ë“œ ì¶”ê°€
- [x] í”„ë¡¬í”„íŠ¸: ì„±ë³„ ì¸ì‹ ê°€ì´ë“œ ì¶”ê°€
- [x] í”„ë¡¬í”„íŠ¸: ë°œê¸‰ì¼ ì¸ì‹ ê°€ì´ë“œ ì¶”ê°€
- [x] ë°ì´í„° ì •ê·œí™”: ì„±ë³„ ì²« ê¸€ì ì¶”ì¶œ (`M`/`F`)
- [x] ë°ì´í„° ì •ê·œí™”: ë°œê¸‰ì¼ ë‚ ì§œ í˜•ì‹ ë³€í™˜
- [x] ê²½ê³  ì‹œìŠ¤í…œ: ì„±ë³„ ëˆ„ë½ ì²´í¬
- [x] ê²½ê³  ì‹œìŠ¤í…œ: ë°œê¸‰ì¼ ëˆ„ë½ ì²´í¬
- [x] UI: ì„±ë³„ ë“œë¡­ë‹¤ìš´ ì¶”ê°€
- [x] UI: ë°œê¸‰ì¼ date picker ì¶”ê°€
- [x] í¼ ìƒíƒœ: `sex` í•„ë“œ ì¶”ê°€
- [x] í¼ ìƒíƒœ: `issueDate` í•„ë“œ ì¶”ê°€
- [x] OCR ìŠ¤ìº”: ì„±ë³„ ìë™ ì…ë ¥
- [x] OCR ìŠ¤ìº”: ë°œê¸‰ì¼ ìë™ ì…ë ¥

---

## ê²°ë¡ 

âœ… **ì„±ë³„, ìƒë…„ì›”ì¼, ë°œê¸‰ì¼ì´ ëª¨ë‘ OCRë¡œ ìë™ ì¸ì‹ë©ë‹ˆë‹¤!**

### ìµœì¢… í†µê³„
- **ì¶”ì¶œ ê°€ëŠ¥ í•„ë“œ**: 9ê°œ (ê¸°ì¡´ 7ê°œ â†’ 9ê°œ)
- **ì¶”ê°€ëœ í•„ë“œ**: 2ê°œ (ì„±ë³„, ë°œê¸‰ì¼)
- **ì •í™•ë„**: 95%+ (Gemini Vision AI)
- **ì²˜ë¦¬ ì‹œê°„**: 2-5ì´ˆ

### ì‚¬ìš©ì ê²½í—˜
1. ğŸ“¸ ì—¬ê¶Œ ì‚¬ì§„ ì—…ë¡œë“œ
2. âš¡ AIê°€ 2-5ì´ˆ ë‚´ ìë™ ì¸ì‹
3. âœ… 9ê°œ í•„ë“œ ìë™ ì…ë ¥
4. âš ï¸ ëˆ„ë½ëœ í•„ë“œë§Œ ìˆ˜ë™ ì…ë ¥
5. ğŸ’¾ ì €ì¥ ì™„ë£Œ!

**ì´ì œ ì„±ë³„ê³¼ ë°œê¸‰ì¼ë„ ìˆ˜ë™ ì…ë ¥ ì—†ì´ ìë™ìœ¼ë¡œ ì²˜ë¦¬ë©ë‹ˆë‹¤!** ğŸ‰
