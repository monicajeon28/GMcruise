# ë¬´ë£Œ ë‚ ì”¨ API 100ëª… ëŒ€ì‘ ê°€ì´ë“œ

## ğŸ¯ ëª©í‘œ
**100ëª… ì‚¬ìš©ìê¹Œì§€ ë¬´ë£Œë¡œ ë‚ ì”¨ ì •ë³´ ì œê³µ**

---

## ğŸ“Š ë¬´ë£Œ í”Œëœ ë¹„êµ

### WeatherAPI.com ë¬´ë£Œ í”Œëœ
- âœ… **í•˜ë£¨ 1,000íšŒ** API í˜¸ì¶œ
- âœ… **14ì¼ ì˜ˆë³´** ì œê³µ
- âœ… **ë¬´ë£Œ í”Œëœì—ì„œë„ ìƒì—…ì  ì‚¬ìš© ê°€ëŠ¥**
- âœ… **100ëª… ì‚¬ìš©ì ì¶©ë¶„**

### OpenWeather API ë¬´ë£Œ í”Œëœ
- âœ… **ì›” 100ë§Œ íšŒ** í˜¸ì¶œ (í•˜ë£¨ ì•½ 33,000íšŒ)
- âœ… **5ì¼ ì˜ˆë³´ë§Œ** ì œê³µ
- âš ï¸ **ìƒì—…ì  ì‚¬ìš© ì‹œ ìœ ë£Œ í”Œëœ í•„ìš”** (ë¬´ë£ŒëŠ” ê°œì¸/êµìœ¡ìš©)

---

## ğŸ’¡ 100ëª… ì‚¬ìš©ì í˜¸ì¶œëŸ‰ ê³„ì‚°

### ì‹œë‚˜ë¦¬ì˜¤ 1: ì‚¬ìš©ìë³„ ê°œë³„ í˜¸ì¶œ (ë¹„íš¨ìœ¨ì )
- 100ëª… Ã— í•˜ë£¨ 1íšŒ = **í•˜ë£¨ 100íšŒ**
- WeatherAPI.com ë¬´ë£Œ: âœ… **ì¶©ë¶„** (1,000íšŒ ì œí•œ)
- OpenWeather ë¬´ë£Œ: âœ… **ì¶©ë¶„** (33,000íšŒ ì œí•œ)

### ì‹œë‚˜ë¦¬ì˜¤ 2: ì§€ì—­ë³„ ìºì‹± (ê¶Œì¥) â­
- **ê°™ì€ ì§€ì—­ì˜ ë‚ ì”¨ëŠ” 1ì‹œê°„ë§ˆë‹¤ 1íšŒë§Œ í˜¸ì¶œ**
- ì˜ˆ: ì„œìš¸ ë‚ ì”¨ â†’ 1ì‹œê°„ ìºì‹œ â†’ í•˜ë£¨ 24íšŒ í˜¸ì¶œ
- ì˜ˆ: ë„ì¿„ ë‚ ì”¨ â†’ 1ì‹œê°„ ìºì‹œ â†’ í•˜ë£¨ 24íšŒ í˜¸ì¶œ

**100ëª… ì‚¬ìš©ìê°€ 20ê°œ ì§€ì—­ì„ ì‚¬ìš©í•œë‹¤ê³  ê°€ì •:**
- 20ê°œ ì§€ì—­ Ã— 24íšŒ/ì¼ = **í•˜ë£¨ 480íšŒ**
- WeatherAPI.com ë¬´ë£Œ: âœ… **ì¶©ë¶„** (1,000íšŒ ì œí•œ)
- OpenWeather ë¬´ë£Œ: âœ… **ì¶©ë¶„** (33,000íšŒ ì œí•œ)

---

## ğŸ† ìµœì¢… ì¶”ì²œ: WeatherAPI.com ë¬´ë£Œ í”Œëœ

### ì´ìœ 
1. âœ… **14ì¼ ì˜ˆë³´** ì œê³µ (OpenWeatherëŠ” 5ì¼ë§Œ)
2. âœ… **í•˜ë£¨ 1,000íšŒ** ì¶©ë¶„ (100ëª… + ìºì‹±)
3. âœ… **ìƒì—…ì  ì‚¬ìš© ê°€ëŠ¥** (OpenWeatherëŠ” ìœ ë£Œ í•„ìš”)
4. âœ… **ë¬´ë£Œë¡œ ì‹œì‘ ê°€ëŠ¥**

---

## ğŸ“ êµ¬í˜„ ë°©ë²•

### 1. WeatherAPI.com ê³„ì • ìƒì„±
1. https://www.weatherapi.com ì ‘ì†
2. **Sign Up** (ë¬´ë£Œ ê³„ì •)
3. **API Key** ë°œê¸‰ (Dashboardì—ì„œ í™•ì¸)

### 2. Vercel í™˜ê²½ë³€ìˆ˜ ì„¤ì •
```
Key: WEATHER_API_KEY
Value: (WeatherAPI.comì—ì„œ ë°œê¸‰ë°›ì€ í‚¤)
Environment: All
```

### 3. ì½”ë“œ êµ¬í˜„

#### `lib/weather.ts` ìƒì„±
```typescript
// lib/weather.ts
export interface WeatherForecast {
  date: string;
  day: {
    maxtemp_c: number;
    mintemp_c: number;
    condition: {
      text: string;
      icon: string;
    };
  };
}

export interface WeatherResponse {
  location: {
    name: string;
    country: string;
  };
  current: {
    temp_c: number;
    condition: {
      text: string;
      icon: string;
    };
  };
  forecast: {
    forecastday: WeatherForecast[];
  };
}

/**
 * WeatherAPI.comì„ ì‚¬ìš©í•˜ì—¬ 14ì¼ ë‚ ì”¨ ì˜ˆë³´ ê°€ì ¸ì˜¤ê¸° (1ì‹œê°„ ìºì‹œ)
 */
export async function getWeatherForecast(
  city: string,
  days: number = 14
): Promise<WeatherResponse | null> {
  try {
    const apiKey = process.env.WEATHER_API_KEY;
    
    if (!apiKey) {
      console.warn('[Weather] WEATHER_API_KEYê°€ ì„¤ì •ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.');
      return null;
    }

    // 1ì‹œê°„ ìºì‹œ ì ìš© (Next.js ìë™ ìºì‹±)
    const response = await fetch(
      `http://api.weatherapi.com/v1/forecast.json?key=${apiKey}&q=${city}&days=${days}&lang=ko`,
      { 
        next: { revalidate: 3600 } // 1ì‹œê°„ ìºì‹œ
      }
    );

    if (!response.ok) {
      throw new Error(`ë‚ ì”¨ API ìš”ì²­ ì‹¤íŒ¨: ${response.status}`);
    }

    const data = await response.json();
    return data;
  } catch (error) {
    console.error('[Weather] ë‚ ì”¨ ì •ë³´ ê°€ì ¸ì˜¤ê¸° ì‹¤íŒ¨:', error);
    return null;
  }
}
```

### 4. DailyBriefingCard ìˆ˜ì •

`app/chat/components/DailyBriefingCard.tsx`ì—ì„œ ë”ë¯¸ ë°ì´í„°ë¥¼ ì‹¤ì œ APIë¡œ êµì²´:

```typescript
import { getWeatherForecast } from '@/lib/weather';
import { useState, useEffect } from 'react';

// ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€
const [weatherData, setWeatherData] = useState<WeatherResponse | null>(null);

useEffect(() => {
  if (briefing?.destination) {
    getWeatherForecast(briefing.destination, 14).then(setWeatherData);
  }
}, [briefing?.destination]);

// ë‚ ì”¨ í‘œì‹œ ë¶€ë¶„
{weatherData ? (
  <div>
    <p className="text-sm text-gray-600 mb-2">
      ğŸ“ {weatherData.location.name}, {weatherData.location.country}
    </p>
    <div className="grid grid-cols-7 gap-2">
      {weatherData.forecast.forecastday.map((day, index) => (
        <div key={index} className="text-center p-2 bg-white rounded-lg">
          <p className="text-xs text-gray-600">
            {new Date(day.date).toLocaleDateString('ko-KR', { month: 'short', day: 'numeric' })}
          </p>
          <p className="text-2xl mb-1">{day.day.condition.icon}</p>
          <p className="text-sm font-bold">{Math.round(day.day.maxtemp_c)}Â°</p>
          <p className="text-xs text-gray-500">{Math.round(day.day.mintemp_c)}Â°</p>
          <p className="text-xs text-gray-600 mt-1">{day.day.condition.text}</p>
        </div>
      ))}
    </div>
  </div>
) : (
  <p className="text-sm text-gray-500">ë‚ ì”¨ ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</p>
)}
```

---

## ğŸ¯ í˜¸ì¶œ ìµœì í™” ì „ëµ

### ì „ëµ 1: 1ì‹œê°„ ìºì‹± (ê¶Œì¥)
- ê°™ì€ ì§€ì—­ì˜ ë‚ ì”¨ëŠ” 1ì‹œê°„ ë™ì•ˆ ìºì‹œ
- 20ê°œ ì§€ì—­ Ã— 24íšŒ/ì¼ = **í•˜ë£¨ 480íšŒ**
- WeatherAPI.com ë¬´ë£Œ: âœ… **ì¶©ë¶„** (1,000íšŒ ì œí•œ)

### ì „ëµ 2: 3ì‹œê°„ ìºì‹± (ë” ì•ˆì „)
- ê°™ì€ ì§€ì—­ì˜ ë‚ ì”¨ëŠ” 3ì‹œê°„ ë™ì•ˆ ìºì‹œ
- 20ê°œ ì§€ì—­ Ã— 8íšŒ/ì¼ = **í•˜ë£¨ 160íšŒ**
- WeatherAPI.com ë¬´ë£Œ: âœ… **ì—¬ìœ ìˆìŒ** (1,000íšŒ ì œí•œ)

### ì „ëµ 3: ì¸ê¸° ì§€ì—­ ìš°ì„ 
- ì¸ê¸° 10ê°œ ì§€ì—­: 1ì‹œê°„ ìºì‹œ = 240íšŒ/ì¼
- ì¼ë°˜ 10ê°œ ì§€ì—­: 3ì‹œê°„ ìºì‹œ = 80íšŒ/ì¼
- **ì´ 320íšŒ/ì¼**
- WeatherAPI.com ë¬´ë£Œ: âœ… **ì¶©ë¶„**

---

## ğŸ“Š ë¹„ìš© ë¹„êµ (100ëª… ê¸°ì¤€)

### WeatherAPI.com
- **ë¬´ë£Œ**: í•˜ë£¨ 1,000íšŒ âœ… **ì¶©ë¶„**
- **Starter ($4/ì›”)**: í•˜ë£¨ 10,000íšŒ (ë¶ˆí•„ìš”)

### OpenWeather
- **ë¬´ë£Œ**: ì›” 100ë§Œ íšŒ âœ… **ì¶©ë¶„**
- âš ï¸ **ìƒì—…ì  ì‚¬ìš© ì‹œ ìœ ë£Œ í•„ìš”**

**ê²°ë¡ **: **WeatherAPI.com ë¬´ë£Œ í”Œëœìœ¼ë¡œ ì¶©ë¶„!**

---

## âœ… ì²´í¬ë¦¬ìŠ¤íŠ¸

### ì¦‰ì‹œ ì‹œì‘ (ë¬´ë£Œ)
- [ ] WeatherAPI.com ê³„ì • ìƒì„±
- [ ] API í‚¤ ë°œê¸‰
- [ ] Vercel í™˜ê²½ë³€ìˆ˜ì— `WEATHER_API_KEY` ì¶”ê°€
- [ ] ì½”ë“œ êµ¬í˜„ (`lib/weather.ts` ìƒì„±)
- [ ] DailyBriefingCard ìˆ˜ì • (ë”ë¯¸ ë°ì´í„° â†’ ì‹¤ì œ API)
- [ ] í…ŒìŠ¤íŠ¸ ì™„ë£Œ

### ìµœì í™” (ì„ íƒ)
- [ ] 1ì‹œê°„ ìºì‹± ì ìš©
- [ ] ì§€ì—­ë³„ í˜¸ì¶œ ëª¨ë‹ˆí„°ë§
- [ ] í˜¸ì¶œëŸ‰ ì¶”ì  (í•˜ë£¨ 1,000íšŒ ì´í•˜ ìœ ì§€)

---

## ğŸš€ ë¹ ë¥¸ ì‹œì‘ ê°€ì´ë“œ

### 1ë‹¨ê³„: API í‚¤ ë°œê¸‰ (5ë¶„)
1. https://www.weatherapi.com ì ‘ì†
2. Sign Up â†’ API Key ë³µì‚¬

### 2ë‹¨ê³„: í™˜ê²½ë³€ìˆ˜ ì„¤ì • (2ë¶„)
1. Vercel â†’ Settings â†’ Environment Variables
2. `WEATHER_API_KEY` ì¶”ê°€
3. Redeploy

### 3ë‹¨ê³„: ì½”ë“œ êµ¬í˜„ (10ë¶„)
1. `lib/weather.ts` íŒŒì¼ ìƒì„± (ìœ„ ì½”ë“œ ë³µì‚¬)
2. `DailyBriefingCard.tsx` ìˆ˜ì • (ë”ë¯¸ ë°ì´í„° ì œê±°)
3. í…ŒìŠ¤íŠ¸

**ì´ ì†Œìš” ì‹œê°„: ì•½ 20ë¶„**

---

## âš ï¸ ì£¼ì˜ì‚¬í•­

### í˜¸ì¶œëŸ‰ ëª¨ë‹ˆí„°ë§
- WeatherAPI.com ë¬´ë£Œ í”Œëœ: í•˜ë£¨ 1,000íšŒ ì œí•œ
- ì´ˆê³¼ ì‹œ API í˜¸ì¶œ ì‹¤íŒ¨
- Vercel ë¡œê·¸ì—ì„œ í˜¸ì¶œëŸ‰ í™•ì¸

### í™•ì¥ ì‹œ
- 100ëª… ì´ìƒ ì‚¬ìš© ì‹œ Starter í”Œëœ ($4/ì›”) ê³ ë ¤
- ë˜ëŠ” OpenWeather ë¬´ë£Œ í”Œëœ ê²€í†  (5ì¼ ì˜ˆë³´ë§Œ)

---

## ğŸ¯ ê²°ë¡ 

**100ëª…ê¹Œì§€ ë¬´ë£Œë¡œ ì‚¬ìš©í•˜ë ¤ë©´: WeatherAPI.com ë¬´ë£Œ í”Œëœ ì‚¬ìš©**

**ì´ìœ **:
1. âœ… **14ì¼ ì˜ˆë³´** ì œê³µ
2. âœ… **í•˜ë£¨ 1,000íšŒ** ì¶©ë¶„ (ìºì‹± ì ìš© ì‹œ)
3. âœ… **ìƒì—…ì  ì‚¬ìš© ê°€ëŠ¥**
4. âœ… **ë¬´ë£Œë¡œ ì‹œì‘ ê°€ëŠ¥**

**êµ¬í˜„ ì‹œê°„**: ì•½ 20ë¶„
**ë¹„ìš©**: $0 (ë¬´ë£Œ)

**ì§€ê¸ˆ ë°”ë¡œ ì‹œì‘í•˜ì„¸ìš”!** ğŸŒ¤ï¸

